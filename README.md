# Система мониторинга веб-страниц

Система для мониторинга веб-страниц в реальном времени с возможностью управления через админ-панель.

## Возможности

- Мониторинг веб-страниц в реальном времени
- Сбор данных о странице (URL, заголовок, текст, HTML)
- Управление клиентами через админ-панель
- Отправка сообщений клиентам с настраиваемой прозрачностью
- Настройка интервала обновления данных
- Автоматическое переподключение при обрыве связи
- Современный и удобный интерфейс в стиле HuggingFace
- Эмуляция jQuery для страниц, где он отсутствует
- Обработка ошибок загрузки ресурсов в превью

## Установка

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd web-monitoring-system
```

2. Установите зависимости:
```bash
npm install
```

3. Запустите сервер:
```bash
npm start
```

## Использование

### Клиентская часть

Для мониторинга страницы, добавьте букмарклет в браузер:

1. После запуска сервера откройте страницу:
```
http://localhost:3000
```

2. Следуйте инструкциям на странице для установки букмарклета.

3. Альтернативно можно добавить следующий код как закладку:
```javascript
javascript:(function(){var s=document.createElement('script');s.src='http://localhost:3000/client.js';document.body.appendChild(s);})()
```

### Админ-панель

1. Откройте админ-панель в браузере:
```
http://localhost:3000/admin
```

2. В админ-панели вы можете:
- Просматривать список активных клиентов
- Видеть превью страниц
- Просматривать HTML-код
- Просматривать текстовое содержимое 
- Отправлять сообщения клиентам с настраиваемой прозрачностью
- Управлять состоянием клиентов (пауза/возобновление)
- Настраивать интервал обновления данных

## Структура проекта

- `server.js` - серверная часть
- `public/client.js` - клиентский скрипт
- `public/admin.html` - админ-панель
- `public/bookmarklet.html` - страница с инструкциями по установке букмарклета

## Требования

- Node.js 14+
- Современный веб-браузер с поддержкой WebSocket

## Функциональность

### Клиентский скрипт
- Сбор данных со страницы (URL, заголовок, текст, HTML)
- Эмуляция jQuery для страниц без него
- Автоматическое переподключение при обрыве связи
- Отправка данных на сервер с настраиваемым интервалом
- Отображение сообщений от админа с настраиваемой прозрачностью

### Серверная часть
- Управление подключениями клиентов и админов
- Обработка запросов и команд
- Хранение списков активных клиентов
- Передача данных между клиентами и админ-панелью

### Админ-панель
- Современный интерфейс в стиле HuggingFace
- Статистика клиентов
- Просмотр данных с клиентских страниц
- Управление клиентами
- Настройка параметров системы

## Безопасность

- Система работает только с локальными подключениями
- Нет встроенной аутентификации (предполагается использование в доверенной среде)
- Рекомендуется использовать HTTPS в продакшене

## Лицензия

MIT 